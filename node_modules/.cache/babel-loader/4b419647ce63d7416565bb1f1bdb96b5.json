{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\zhang\\\\React Projects\\\\jianshu\\\\src\\\\common\\\\header\\\\index.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { CSSTransition } from 'react-transition-group';\nimport { actionCreators } from './store';\nimport { actionCreators as loginActionCreators } from '../../pages/login/store';\nimport { HeaderWrapper, Logo, Nav, NavItem, NavSearch, Addition, Button, SearchWrapper, SearchInfo, SearchInfoTitle, SearchInfoSwitch, SearchInfoItem, SearchInfoList } from './style';\n\nclass Header extends Component {\n  getListArea() {\n    const {\n      focused,\n      list,\n      page,\n      handleMouseEnter,\n      handleMouseLeave,\n      mouseIn,\n      handleChangePage,\n      totalPage\n    } = this.props;\n    const newList = list.toJS();\n    const pageList = [];\n\n    if (newList.length) {\n      for (let i = (page - 1) * 10; i < page * 10; i++) {\n        if (newList[i]) {\n          pageList.push( /*#__PURE__*/_jsxDEV(SearchInfoItem, {\n            children: newList[i]\n          }, newList[i], false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this));\n        }\n      }\n    }\n\n    if (focused || mouseIn) {\n      return /*#__PURE__*/_jsxDEV(SearchInfo, {\n        onMouseEnter: handleMouseEnter,\n        onMouseLeave: handleMouseLeave,\n        children: [/*#__PURE__*/_jsxDEV(SearchInfoTitle, {\n          children: [\"\\u70ED\\u95E8\\u641C\\u7D22\", /*#__PURE__*/_jsxDEV(SearchInfoSwitch, {\n            onClick: () => handleChangePage(page, totalPage, this.spinIcon),\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              ref: icon => {\n                this.spinIcon = icon;\n              },\n              className: \"iconfont spin\",\n              children: \"\\uE72B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), \"\\u6362\\u4E00\\u6279\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchInfoList, {\n          children: pageList\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this);\n    } else {\n      return null;\n    }\n  }\n\n  render() {\n    const {\n      focused,\n      handleInputFocus,\n      handleInputBlur,\n      list,\n      login,\n      logout\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(HeaderWrapper, {\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        children: /*#__PURE__*/_jsxDEV(Logo, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        children: [/*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"left active\",\n          children: \"\\u9996\\u9875\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"left\",\n          children: \"\\u4E0B\\u8F7DApp\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this), login ? /*#__PURE__*/_jsxDEV(NavItem, {\n          onClick: logout,\n          className: \"right\",\n          children: \"\\u9000\\u51FA\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          children: /*#__PURE__*/_jsxDEV(NavItem, {\n            className: \"right\",\n            children: \"\\u767B\\u5F55\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 31\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(NavItem, {\n          className: \"right\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"iconfont\",\n            children: \"\\uE636\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(SearchWrapper, {\n          children: [/*#__PURE__*/_jsxDEV(CSSTransition, {\n            in: focused,\n            timeout: 200,\n            classNames: \"slide\",\n            children: /*#__PURE__*/_jsxDEV(NavSearch, {\n              className: focused ? 'focused' : '',\n              onFocus: () => handleInputFocus(list),\n              onBlur: handleInputBlur\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: focused ? 'focused iconfont zoom' : 'iconfont zoom',\n            children: \"\\uE60F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 13\n          }, this), this.getListArea()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Addition, {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/write\",\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            className: \"writting\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"iconfont\",\n              children: \"\\uE600\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this), \"\\u5199\\u6587\\u7AE0\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          className: \"reg\",\n          children: \"\\u6CE8\\u518C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    focused: state.getIn(['header', 'focused']),\n    list: state.getIn(['header', 'list']),\n    page: state.getIn(['header', 'page']),\n    totalPage: state.getIn(['header', 'totalPage']),\n    mouseIn: state.getIn(['header', 'mouseIn']),\n    login: state.getIn(['login', 'login'])\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    handleInputFocus(list) {\n      if (list.size === 0) {\n        dispatch(actionCreators.getList());\n      }\n\n      dispatch(actionCreators.searchFocus());\n    },\n\n    handleInputBlur() {\n      dispatch(actionCreators.searchBlur());\n    },\n\n    handleMouseEnter() {\n      dispatch(actionCreators.mouseEnter());\n    },\n\n    handleMouseLeave() {\n      dispatch(actionCreators.mouseLeave());\n    },\n\n    handleChangePage(page, totalPage, spin) {\n      let originAngle = spin.style.transform.replace(/[^0-9]/ig, '');\n\n      if (originAngle) {\n        originAngle = parseInt(originAngle, 10);\n      } else {\n        originAngle = 0;\n      }\n\n      spin.style.transform = 'rotate(' + (originAngle + 360) + 'deg)';\n\n      if (page < totalPage) {\n        dispatch(actionCreators.changePage(page + 1));\n      } else {\n        dispatch(actionCreators.changePage(1));\n      }\n    },\n\n    logout() {\n      dispatch(loginActionCreators.logout());\n    }\n\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);","map":{"version":3,"sources":["C:/Users/zhang/React Projects/jianshu/src/common/header/index.js"],"names":["React","Component","connect","Link","CSSTransition","actionCreators","loginActionCreators","HeaderWrapper","Logo","Nav","NavItem","NavSearch","Addition","Button","SearchWrapper","SearchInfo","SearchInfoTitle","SearchInfoSwitch","SearchInfoItem","SearchInfoList","Header","getListArea","focused","list","page","handleMouseEnter","handleMouseLeave","mouseIn","handleChangePage","totalPage","props","newList","toJS","pageList","length","i","push","spinIcon","icon","render","handleInputFocus","handleInputBlur","login","logout","mapStateToProps","state","getIn","mapDispatchToProps","dispatch","size","getList","searchFocus","searchBlur","mouseEnter","mouseLeave","spin","originAngle","style","transform","replace","parseInt","changePage"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { CSSTransition } from 'react-transition-group';\r\nimport { actionCreators} from './store';\r\nimport { actionCreators as loginActionCreators } from '../../pages/login/store';\r\nimport {\r\n  HeaderWrapper,\r\n  Logo,\r\n  Nav,\r\n  NavItem,\r\n  NavSearch,\r\n  Addition,\r\n  Button,\r\n  SearchWrapper,\r\n  SearchInfo,\r\n  SearchInfoTitle,\r\n  SearchInfoSwitch,\r\n  SearchInfoItem,\r\n  SearchInfoList,\r\n} from './style';\r\n\r\n\r\n\r\nclass Header extends Component{\r\n  getListArea() {\r\n    const {focused, list, page , handleMouseEnter, handleMouseLeave, mouseIn, handleChangePage, totalPage} = this.props;\r\n    const newList = list.toJS();\r\n    const pageList = [];\r\n\r\n    if(newList.length)\r\n    {\r\n      for(let i = (page - 1) * 10; i < page * 10; i++)\r\n      {\r\n        if(newList[i]){\r\n          pageList.push(\r\n            <SearchInfoItem key={newList[i]}>{newList[i]}</SearchInfoItem>\r\n          )\r\n        }\r\n      }\r\n    }\r\n\r\n    if(focused || mouseIn){\r\n      return(\r\n        <SearchInfo \r\n          onMouseEnter={handleMouseEnter}\r\n          onMouseLeave={handleMouseLeave}\r\n        >\r\n          <SearchInfoTitle>\r\n            热门搜索\r\n            <SearchInfoSwitch \r\n              onClick={() => handleChangePage(page, totalPage, this.spinIcon)}\r\n            >\r\n              <span ref={(icon) => {this.spinIcon = icon}} className=\"iconfont spin\">&#xe72b;</span>\r\n              换一批\r\n            </SearchInfoSwitch>\r\n          </SearchInfoTitle>\r\n          <SearchInfoList>\r\n            {pageList}\r\n          </SearchInfoList>\r\n        </SearchInfo>\r\n      )\r\n    }\r\n    else{\r\n      return null;\r\n    }\r\n  }\r\n\r\n\r\n  render(){\r\n    const {focused, handleInputFocus, handleInputBlur, list, login,logout} = this.props;\r\n    return(\r\n      <HeaderWrapper>\r\n        <Link to='/'>\r\n          <Logo />\r\n        </Link>\r\n        <Nav>\r\n          <NavItem className='left active'>首页</NavItem>\r\n          <NavItem className='left'>下载App</NavItem>\r\n          {\r\n            login ? \r\n            <NavItem onClick={logout} className='right'>退出</NavItem> : \r\n            <Link to='/login'><NavItem className='right'>登录</NavItem></Link>\r\n          }\r\n          \r\n          <NavItem className='right'>\r\n            <span className=\"iconfont\">&#xe636;</span>\r\n          </NavItem>\r\n          <SearchWrapper>\r\n            <CSSTransition\r\n              in={focused}\r\n              timeout={200}\r\n              classNames=\"slide\"\r\n            >\r\n              <NavSearch\r\n                className={focused ? 'focused': ''}\r\n                onFocus={() => handleInputFocus(list)}\r\n                onBlur={handleInputBlur}\r\n              ></NavSearch>\r\n            </CSSTransition>\r\n            <span className={focused ? 'focused iconfont zoom': 'iconfont zoom'}>&#xe60f;</span>\r\n            {this.getListArea()}\r\n          </SearchWrapper>\r\n        </Nav>\r\n        <Addition>\r\n          <Link to='/write'>\r\n            <Button className='writting'>\r\n              <span className=\"iconfont\">&#xe600;</span>\r\n              写文章\r\n            </Button>\r\n          </Link>\r\n          <Button className='reg'>注册</Button>\r\n        </Addition>\r\n      </HeaderWrapper>\r\n    )\r\n  }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    focused: state.getIn(['header','focused']),\r\n    list: state.getIn(['header','list']),\r\n    page: state.getIn(['header','page']),\r\n    totalPage: state.getIn(['header','totalPage']),\r\n    mouseIn: state.getIn(['header','mouseIn']),\r\n    login: state.getIn(['login', 'login'])\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return{\r\n    handleInputFocus(list) {\r\n      if(list.size === 0){\r\n        dispatch(actionCreators.getList());\r\n      }\r\n      dispatch(actionCreators.searchFocus()); \r\n    },\r\n    handleInputBlur() {\r\n      dispatch(actionCreators.searchBlur()); \r\n    },\r\n    handleMouseEnter(){\r\n      dispatch(actionCreators.mouseEnter());\r\n    },\r\n    handleMouseLeave(){\r\n      dispatch(actionCreators.mouseLeave());\r\n    },\r\n    handleChangePage(page, totalPage, spin){\r\n      let originAngle = spin.style.transform.replace(/[^0-9]/ig,'');\r\n      if(originAngle)\r\n      {\r\n        originAngle = parseInt(originAngle, 10);\r\n      }else{\r\n        originAngle = 0;\r\n      }\r\n      spin.style.transform = 'rotate(' + (originAngle+360) + 'deg)';\r\n      if(page<totalPage)\r\n      {\r\n        dispatch(actionCreators.changePage(page+1));\r\n      }else{\r\n        dispatch(actionCreators.changePage(1));\r\n      }\r\n    },\r\n    logout(){\r\n      dispatch(loginActionCreators.logout())\r\n    }\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);"]},"metadata":{},"sourceType":"module"}