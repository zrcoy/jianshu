{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"C:/Users/zhang/React Projects/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/zhang/React Projects/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/zhang/React Projects/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/zhang/React Projects/jianshu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import{connect}from'react-redux';import Topic from'./components/Topic';import List from'./components/List';import Writer from'./components/Writer';import Recommend from'./components/Recommend';import{actionCreators}from'./store';import{BackTop}from'./style';import{HomeWrapper,HomeLeft,HomeRight}from'./style';var Home=/*#__PURE__*/function(_PureComponent){_inherits(Home,_PureComponent);var _super=_createSuper(Home);function Home(){_classCallCheck(this,Home);return _super.apply(this,arguments);}_createClass(Home,[{key:\"handleScrollTop\",value:function handleScrollTop(){window.scrollTo(0,0);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(HomeWrapper,{children:[/*#__PURE__*/_jsxs(HomeLeft,{children:[/*#__PURE__*/_jsx(\"img\",{className:\"banner-img\",alt:\"\",src:\"//upload.jianshu.io/admin_banners/web_images/4318/60781ff21df1d1b03f5f8459e4a1983c009175a5.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\"}),/*#__PURE__*/_jsx(Topic,{}),/*#__PURE__*/_jsx(List,{})]}),/*#__PURE__*/_jsxs(HomeRight,{children:[/*#__PURE__*/_jsx(Recommend,{}),/*#__PURE__*/_jsx(Writer,{})]}),this.props.showScroll?/*#__PURE__*/_jsx(BackTop,{onClick:this.handleScrollTop,children:\"\\u9876\\u90E8\"}):null]});}},{key:\"componentDidMount\",value:function componentDidMount(){this.props.changeHomeData();this.bindEvents();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('scroll',this.props.changeScrollTopShow);}},{key:\"bindEvents\",value:function bindEvents(){window.addEventListener('scroll',this.props.changeScrollTopShow);}}]);return Home;}(PureComponent);var mapState=function mapState(state){return{showScroll:state.getIn(['home','showScroll'])};};var mapDispatch=function mapDispatch(dispatch){return{changeHomeData:function changeHomeData(){dispatch(actionCreators.getHomeInfo());},changeScrollTopShow:function changeScrollTopShow(){//const action = actionCreators\nif(document.documentElement.scrollTop>250){dispatch(actionCreators.toggleTopShow(true));}else{dispatch(actionCreators.toggleTopShow(false));}}};};export default connect(mapState,mapDispatch)(Home);","map":{"version":3,"sources":["C:/Users/zhang/React Projects/jianshu/src/pages/home/index.js"],"names":["React","PureComponent","connect","Topic","List","Writer","Recommend","actionCreators","BackTop","HomeWrapper","HomeLeft","HomeRight","Home","window","scrollTo","props","showScroll","handleScrollTop","changeHomeData","bindEvents","removeEventListener","changeScrollTopShow","addEventListener","mapState","state","getIn","mapDispatch","dispatch","getHomeInfo","document","documentElement","scrollTop","toggleTopShow"],"mappings":"wrBAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,oBAAlB,CACA,MAAOC,CAAAA,IAAP,KAAiB,mBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,qBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,wBAAtB,CACA,OAASC,cAAT,KAA+B,SAA/B,CACA,OAASC,OAAT,KAAwB,SAAxB,CAEA,OACEC,WADF,CAEEC,QAFF,CAGEC,SAHF,KAIO,SAJP,C,GAMMC,CAAAA,I,8PAEa,CACfC,MAAM,CAACC,QAAP,CAAgB,CAAhB,CAAkB,CAAlB,EACD,C,uCAEO,CACN,mBACE,MAAC,WAAD,yBACE,MAAC,QAAD,yBACE,YAAK,SAAS,CAAG,YAAjB,CAA8B,GAAG,CAAC,EAAlC,CAAqC,GAAG,CAAC,uJAAzC,EADF,cAEE,KAAC,KAAD,IAFF,cAGE,KAAC,IAAD,IAHF,GADF,cAME,MAAC,SAAD,yBACE,KAAC,SAAD,IADF,cAEE,KAAC,MAAD,IAFF,GANF,CAUG,KAAKC,KAAL,CAAWC,UAAX,cAAuB,KAAC,OAAD,EAAS,OAAO,CAAE,KAAKC,eAAvB,0BAAvB,CAA4E,IAV/E,GADF,CAcD,C,6DAEmB,CAClB,KAAKF,KAAL,CAAWG,cAAX,GACA,KAAKC,UAAL,GACD,C,mEAEqB,CACpBN,MAAM,CAACO,mBAAP,CAA2B,QAA3B,CAAqC,KAAKL,KAAL,CAAWM,mBAAhD,EACD,C,+CAEW,CACVR,MAAM,CAACS,gBAAP,CAAwB,QAAxB,CAAkC,KAAKP,KAAL,CAAWM,mBAA7C,EACD,C,kBAlCgBpB,a,EAqCnB,GAAMsB,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,KAAD,QAAW,CAC1BR,UAAU,CAAEQ,KAAK,CAACC,KAAN,CAAY,CAAC,MAAD,CAAS,YAAT,CAAZ,CADc,CAAX,EAAjB,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,QAAD,QAAe,CACjCT,cADiC,0BAChB,CACfS,QAAQ,CAACpB,cAAc,CAACqB,WAAf,EAAD,CAAR,CACD,CAHgC,CAIjCP,mBAJiC,+BAIZ,CACnB;AACA,GAAGQ,QAAQ,CAACC,eAAT,CAAyBC,SAAzB,CAAqC,GAAxC,CAA4C,CAC1CJ,QAAQ,CAACpB,cAAc,CAACyB,aAAf,CAA6B,IAA7B,CAAD,CAAR,CACD,CAFD,IAEK,CACHL,QAAQ,CAACpB,cAAc,CAACyB,aAAf,CAA6B,KAA7B,CAAD,CAAR,CACD,CACF,CAXgC,CAAf,EAApB,CAcA,cAAe9B,CAAAA,OAAO,CAACqB,QAAD,CAAWG,WAAX,CAAP,CAA+Bd,IAA/B,CAAf","sourcesContent":["import React ,{ PureComponent } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport Topic from './components/Topic';\r\nimport List from './components/List';\r\nimport Writer from './components/Writer';\r\nimport Recommend from './components/Recommend';\r\nimport { actionCreators } from './store';\r\nimport { BackTop } from './style';\r\n\r\nimport { \r\n  HomeWrapper,\r\n  HomeLeft,\r\n  HomeRight \r\n} from './style';\r\n\r\nclass Home extends PureComponent{\r\n\r\n  handleScrollTop(){\r\n    window.scrollTo(0,0);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <HomeWrapper>\r\n        <HomeLeft>\r\n          <img className = 'banner-img' alt='' src=\"//upload.jianshu.io/admin_banners/web_images/4318/60781ff21df1d1b03f5f8459e4a1983c009175a5.jpg?imageMogr2/auto-orient/strip|imageView2/1/w/1250/h/540\"></img>\r\n          <Topic />\r\n          <List />\r\n        </HomeLeft>\r\n        <HomeRight>\r\n          <Recommend />\r\n          <Writer />\r\n        </HomeRight>\r\n        {this.props.showScroll? <BackTop onClick={this.handleScrollTop}>顶部</BackTop>:null}\r\n      </HomeWrapper>\r\n    )\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.changeHomeData();\r\n    this.bindEvents();\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    window.removeEventListener('scroll', this.props.changeScrollTopShow);\r\n  }\r\n\r\n  bindEvents(){\r\n    window.addEventListener('scroll', this.props.changeScrollTopShow);\r\n  }\r\n}\r\n\r\nconst mapState = (state) =>({\r\n  showScroll: state.getIn(['home', 'showScroll'])\r\n});\r\n\r\nconst mapDispatch = (dispatch) => ({\r\n  changeHomeData() {\r\n    dispatch(actionCreators.getHomeInfo());\r\n  },\r\n  changeScrollTopShow(){\r\n    //const action = actionCreators\r\n    if(document.documentElement.scrollTop > 250){\r\n      dispatch(actionCreators.toggleTopShow(true));\r\n    }else{\r\n      dispatch(actionCreators.toggleTopShow(false));\r\n    }\r\n  }\r\n});\r\n\r\nexport default connect(mapState, mapDispatch)(Home);"]},"metadata":{},"sourceType":"module"}